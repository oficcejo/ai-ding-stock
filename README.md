# ğŸ“ˆ AIè‚¡ç¥¨åˆ†æç³»ç»Ÿ

> åŸºäºDeepSeek/Qwenå¤§æ¨¡å‹çš„æ™ºèƒ½è‚¡ç¥¨åˆ†æç³»ç»Ÿï¼Œå®æ—¶ç›‘æ§ã€AIåˆ†æã€è‡ªåŠ¨é€šçŸ¥

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Go Version](https://img.shields.io/badge/Go-1.24+-00ADD8?logo=go)](https://golang.org/)
[![Docker](https://img.shields.io/badge/Docker-Ready-2496ED?logo=docker)](https://www.docker.com/)

---
<img width="1910" height="923" alt="image" src="https://github.com/user-attachments/assets/b1d970b2-903a-4b55-9559-c49a00eb8c65" />
<img width="1029" height="748" alt="image" src="https://github.com/user-attachments/assets/c3a42526-d1ad-4e7c-bb68-ec1b44298a6b" />


## ğŸŒŸ é¡¹ç›®ç‰¹ç‚¹

- ğŸ¤– **AIé©±åŠ¨åˆ†æ** - ä½¿ç”¨DeepSeek/Qwenå¤§æ¨¡å‹è¿›è¡Œæ·±åº¦æŠ€æœ¯åˆ†æ
- ğŸ“Š **å®æ—¶ç›‘æ§** - è‡ªåŠ¨ç›‘æ§å¤šåªè‚¡ç¥¨ï¼Œå®šæ—¶åˆ†æ
- ğŸ¯ **æ™ºèƒ½ä¿¡å·** - æä¾›BUY/SELL/HOLDæ˜ç¡®ä¿¡å·å’Œç›®æ ‡ä»·
- ğŸ“± **å³æ—¶é€šçŸ¥** - æ”¯æŒé’‰é’‰ã€é£ä¹¦Webhookæ¨é€
- ğŸŒ **Webç•Œé¢** - å®æ—¶æŸ¥çœ‹åˆ†æç»“æœå’Œå†å²è®°å½•
- ğŸ”Œ **RESTful API** - å®Œæ•´çš„APIæ¥å£ï¼Œæ˜“äºé›†æˆ
- ğŸ³ **å®¹å™¨åŒ–éƒ¨ç½²** - Dockerä¸€é”®éƒ¨ç½²ï¼Œå¼€ç®±å³ç”¨
- ğŸ“ˆ **æŠ€æœ¯æŒ‡æ ‡** - æ”¯æŒMAã€RSIã€æ³¢åŠ¨ç‡ç­‰å¤šç§æŠ€æœ¯æŒ‡æ ‡

---

## ğŸ“‹ ç›®å½•

- [åŠŸèƒ½æ¦‚è¿°](#åŠŸèƒ½æ¦‚è¿°)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
  - [Dockeréƒ¨ç½²ï¼ˆæ¨èï¼‰](#dockeréƒ¨ç½²æ¨è)
  - [æœ¬åœ°è¿è¡Œ](#æœ¬åœ°è¿è¡Œ)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [ä½¿ç”¨æŒ‡å—](#ä½¿ç”¨æŒ‡å—)
- [APIæ–‡æ¡£](#apiæ–‡æ¡£)
- [é€šçŸ¥é…ç½®](#é€šçŸ¥é…ç½®)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [æ›´æ–°æ—¥å¿—](#æ›´æ–°æ—¥å¿—)

---

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

### æ ¸å¿ƒåŠŸèƒ½

#### 1. å®æ—¶è‚¡ç¥¨ç›‘æ§
- âœ… æ”¯æŒå¤šåªè‚¡ç¥¨åŒæ—¶ç›‘æ§
- âœ… å¯é…ç½®æ‰«æé—´éš”ï¼ˆ1-60åˆ†é’Ÿï¼‰
- âœ… è‡ªåŠ¨è·å–å®æ—¶è¡Œæƒ…å’ŒKçº¿æ•°æ®
- âœ… 24/7ä¸é—´æ–­è¿è¡Œ

#### 2. AIæ·±åº¦åˆ†æ
- âœ… åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„æŠ€æœ¯åˆ†æ
- âœ… ç»¼åˆè€ƒè™‘è¶‹åŠ¿ã€é‡ä»·ã€ç›˜å£ç­‰å¤šç»´åº¦
- âœ… ç»™å‡ºBUY/SELL/HOLDæ˜ç¡®ä¿¡å·
- âœ… æä¾›ä¿¡å¿ƒåº¦è¯„åˆ†ï¼ˆ0-100ï¼‰
- âœ… ç»™å‡ºç›®æ ‡ä»·å’Œæ­¢æŸä»·å»ºè®®

#### 3. æŠ€æœ¯æŒ‡æ ‡è®¡ç®—
- âœ… **å‡çº¿ç³»ç»Ÿ**: MA5ã€MA10ã€MA20ã€MA60
- âœ… **ç›¸å¯¹å¼ºå¼±**: RSI(14)
- âœ… **æ³¢åŠ¨ç‡**: 20æ—¥æ ‡å‡†å·®
- âœ… **é‡ä»·åˆ†æ**: æˆäº¤é‡ã€æˆäº¤é¢ã€å†…å¤–ç›˜æ¯”
- âœ… **ç›˜å£åˆ†æ**: ä¹°å–äº”æ¡£ã€å§”æ¯”

#### 4. æ™ºèƒ½é€šçŸ¥
- âœ… é’‰é’‰æœºå™¨äººæ¨é€
- âœ… é£ä¹¦æœºå™¨äººæ¨é€
- âœ… å¯é…ç½®ä¿¡å¿ƒåº¦é˜ˆå€¼
- âœ… æ”¯æŒè‡ªå®šä¹‰å…³é”®è¯
- âœ… å¯Œæ–‡æœ¬/Markdownæ ¼å¼

#### 5. Webç›‘æ§ç•Œé¢
- âœ… å®æ—¶æ˜¾ç¤ºåˆ†æç»“æœ
- âœ… è‚¡ç¥¨åˆ—è¡¨å’ŒçŠ¶æ€
- âœ… AIåˆ†æè¯¦æƒ…
- âœ… å†å²ä¿¡å·è®°å½•
- âœ… å“åº”å¼è®¾è®¡

#### 6. RESTful API
- âœ… è·å–æ‰€æœ‰è‚¡ç¥¨çŠ¶æ€
- âœ… æŸ¥è¯¢å•ä¸ªè‚¡ç¥¨åˆ†æ
- âœ… å¥åº·æ£€æŸ¥ç«¯ç‚¹
- âœ… æ ‡å‡†JSONå“åº”

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AIè‚¡ç¥¨åˆ†æç³»ç»Ÿ                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TDX API    â”‚â”€â”€â”€â”€â”€â–¶â”‚  æ•°æ®é‡‡é›†å±‚   â”‚â—€â”€â”€â”€â”€â–¶â”‚   æ•°æ®æº    â”‚
â”‚  (è¡Œæƒ…æ¥å£)  â”‚      â”‚  (å®æ—¶è¡Œæƒ…)   â”‚      â”‚  (Kçº¿æ•°æ®)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚  æŠ€æœ¯æŒ‡æ ‡å±‚   â”‚
                     â”‚ (MA/RSI/æ³¢åŠ¨) â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  DeepSeek   â”‚â—€â”€â”€â”€â”€â–¶â”‚   AIåˆ†æå±‚   â”‚â”€â”€â”€â”€â”€â–¶â”‚   å†³ç­–å¼•æ“  â”‚
â”‚   / Qwen    â”‚      â”‚  (æ™ºèƒ½åˆ†æ)   â”‚      â”‚ (BUY/SELL)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼             â–¼             â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚ é’‰é’‰é€šçŸ¥  â”‚ â”‚ é£ä¹¦é€šçŸ¥  â”‚ â”‚  Webç•Œé¢  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµç¨‹

```
1. å®šæ—¶ä»»åŠ¡è§¦å‘
   â””â”€â–¶ è·å–å®æ—¶è¡Œæƒ…ï¼ˆäº”æ¡£ã€ä»·æ ¼ã€æˆäº¤é‡ï¼‰
       â””â”€â–¶ è·å–Kçº¿æ•°æ®ï¼ˆæ—¥Kã€30åˆ†é’ŸKï¼‰
           â””â”€â–¶ è®¡ç®—æŠ€æœ¯æŒ‡æ ‡ï¼ˆMAã€RSIã€æ³¢åŠ¨ç‡ï¼‰
               â””â”€â–¶ æ„å»ºAIåˆ†ææç¤ºè¯
                   â””â”€â–¶ è°ƒç”¨AIæ¨¡å‹åˆ†æ
                       â””â”€â–¶ è§£æAIå†³ç­–
                           â””â”€â–¶ éªŒè¯å†³ç­–åˆç†æ€§
                               â””â”€â–¶ å­˜å‚¨åˆ†æç»“æœ
                                   â””â”€â–¶ åˆ¤æ–­æ˜¯å¦é€šçŸ¥
                                       â””â”€â–¶ å‘é€æ¨é€é€šçŸ¥
```

---

## ğŸ’» æŠ€æœ¯æ ˆ

### åç«¯
- **è¯­è¨€**: Go 1.24+
- **æ¡†æ¶**: Gin (Webæ¡†æ¶)
- **AI**: DeepSeek API / Qwen API
- **å¹¶å‘**: Goroutine + Channel
- **é…ç½®**: JSON

### å‰ç«¯
- **æŠ€æœ¯**: HTML5 + CSS3 + Vanilla JavaScript
- **è®¾è®¡**: å“åº”å¼å¸ƒå±€
- **é£æ ¼**: ç°ä»£åŒ–æ¸å˜UI

### æ•°æ®æº
- **è¡Œæƒ…API**: é€šè¾¾ä¿¡TDX API
- **æ•°æ®æ ¼å¼**: JSON
- **æ›´æ–°é¢‘ç‡**: å®æ—¶

### éƒ¨ç½²
- **å®¹å™¨**: Docker + Docker Compose
- **WebæœåŠ¡å™¨**: Nginx
- **ç½‘ç»œæ¨¡å¼**: Host Network
- **æ—¥å¿—**: æ–‡ä»¶ + æ§åˆ¶å°

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Docker 20.10+ å’Œ Docker Compose 2.0+ï¼ˆDockeréƒ¨ç½²ï¼‰
- æˆ– Go 1.24+ï¼ˆæœ¬åœ°è¿è¡Œï¼‰
- TDXè‚¡ç¥¨æ•°æ®APIæœåŠ¡
- DeepSeek æˆ– Qwen APIå¯†é’¥
- dockeræœ¬åœ°éƒ¨ç½²tdxapiï¼Œé¡¹ç›®åœ°å€https://github.com/oficcejo/tdx-api
---

## ğŸ³ Dockeréƒ¨ç½²ï¼ˆæ¨èï¼‰

### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/oficcejo/ai-ding-stock.git
cd ai-ding-stock
```

### 2ï¸âƒ£ é…ç½®ç³»ç»Ÿ

```bash
# å¤åˆ¶é…ç½®ç¤ºä¾‹
cp config_stock.json.example config_stock.json

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano config_stock.json
```

**æœ€å°é…ç½®**ï¼š(ä¹Ÿå¯éƒ¨ç½²å®Œæˆè¿›å…¥http://ip:9090é…ç½®ï¼‰

```json
{
  "tdx_api_url": "http://your-tdx-api:8181",  # TDXå®æ—¶è¡Œæƒ… APIé¡¹ç›®åœ°å€https://github.com/oficcejo/tdx-api
  "ai_config": {
    "provider": "deepseek",
    "deepseek_key": "sk-your-deepseek-api-key",
    "qwen_key": "",
    "custom_api_url": "",
    "custom_api_key": "",
    "custom_model_name": ""
  },
  "stocks": [
    {
      "code": "600519",
      "name": "è´µå·èŒ…å°",
      "enabled": true,
      "scan_interval_minutes": 5,
      "min_confidence": 70
    }
  ],
  "notification": {
    "enabled": true,
    "dingtalk": {
      "enabled": true,
      "webhook_url": "https://oapi.dingtalk.com/robot/send?access_token=YOUR_TOKEN",
      "secret": "å…³é”®è¯ï¼ˆå¦‚ï¼šè‚¡ç¥¨é€šçŸ¥ï¼‰"
    },
    "feishu": {
      "enabled": false,
      "webhook_url": "",
      "secret": ""
    }
  },
  "api_server_port": 9090,
  "log_dir": "logs"
}
```

### 3ï¸âƒ£ å¯åŠ¨æœåŠ¡

#### Linux/macOS

```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x docker-start.sh

# å¯åŠ¨æœåŠ¡
bash docker-start.sh start

# æˆ–ä½¿ç”¨docker-compose
docker-compose up -d --build
```

#### Windows

```cmd
REM ç›´æ¥åŒå‡»è¿è¡Œ
docker-start.bat

REM æˆ–å‘½ä»¤è¡Œ
docker-start.bat start
```

### 4ï¸âƒ£ è®¿é—®ç³»ç»Ÿ

- **Webç•Œé¢**: http://localhost:8090
- **APIæ¥å£**: http://localhost:9090/api/stocks

### 5ï¸âƒ£ ç®¡ç†æœåŠ¡

```bash
# æŸ¥çœ‹çŠ¶æ€
bash docker-start.sh status

# æŸ¥çœ‹æ—¥å¿—
bash docker-start.sh logs

# é‡å¯æœåŠ¡
bash docker-start.sh restart

# åœæ­¢æœåŠ¡
bash docker-start.sh stop
```

---

## ğŸ’» æœ¬åœ°è¿è¡Œ

### 1ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
# å®‰è£…Go 1.24+
# https://golang.org/dl/

# éªŒè¯å®‰è£…
go version
```

### 2ï¸âƒ£ ä¸‹è½½é¡¹ç›®

```bash
git clone https://github.com/your-repo/nofx-stock.git
cd nofx-stock
```

### 3ï¸âƒ£ å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨å›½å†…ä»£ç†ï¼ˆå¯é€‰ï¼‰
go env -w GOPROXY=https://goproxy.cn,direct

# ä¸‹è½½ä¾èµ–
go mod download
```

### 4ï¸âƒ£ é…ç½®ç³»ç»Ÿ

```bash
# å¤åˆ¶é…ç½®
cp config_stock.json.example config_stock.json

# ç¼–è¾‘é…ç½®
vim config_stock.json
```

### 5ï¸âƒ£ ç¼–è¯‘è¿è¡Œ

```bash
# ç¼–è¯‘
go build -o stock_analyzer main_stock.go

# è¿è¡Œ
./stock_analyzer

# Windows
stock_analyzer.exe
```

### 6ï¸âƒ£ è®¿é—®ç³»ç»Ÿ

- **Webç•Œé¢**: http://localhost:8090/stock_dashboard.html
- **APIæ¥å£**: http://localhost:9090/api/stocks

---

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ç»“æ„

```json
{
  "tdx_api_url": "TDX APIåœ°å€",
  "ai_config": {
    "provider": "AIæä¾›å•†: deepseek/qwen/custom",
    "deepseek_key": "DeepSeek APIå¯†é’¥",
    "qwen_key": "Qwen APIå¯†é’¥",
    "custom_api_url": "è‡ªå®šä¹‰APIåœ°å€ï¼ˆå¯é€‰ï¼‰",
    "custom_api_key": "è‡ªå®šä¹‰APIå¯†é’¥ï¼ˆå¯é€‰ï¼‰",
    "custom_model_name": "è‡ªå®šä¹‰æ¨¡å‹åç§°ï¼ˆå¯é€‰ï¼‰"
  },
  "stocks": [
    {
      "code": "è‚¡ç¥¨ä»£ç ",
      "name": "è‚¡ç¥¨åç§°",
      "enabled": true,
      "scan_interval_minutes": 5,
      "min_confidence": 70
    }
  ],
  "notification": {
    "enabled": true,
    "dingtalk": {
      "enabled": true,
      "webhook_url": "é’‰é’‰æœºå™¨äººWebhook",
      "secret": "å®‰å…¨å…³é”®è¯"
    },
    "feishu": {
      "enabled": false,
      "webhook_url": "é£ä¹¦æœºå™¨äººWebhook",
      "secret": "ç­¾åå¯†é’¥"
    }
  },
  "api_server_port": 9090,
  "log_dir": "logs"
}
```

### é…ç½®é¡¹è¯´æ˜

#### TDX APIé…ç½®
- `tdx_api_url`: TDXè‚¡ç¥¨æ•°æ®APIçš„åŸºç¡€URL

#### AIé…ç½®
- `provider`: AIæä¾›å•†ï¼Œæ”¯æŒï¼š
  - `deepseek`: ä½¿ç”¨DeepSeek API
  - `qwen`: ä½¿ç”¨é€šä¹‰åƒé—®API
  - `custom`: ä½¿ç”¨è‡ªå®šä¹‰API
- `deepseek_key`: DeepSeek APIå¯†é’¥
- `qwen_key`: é€šä¹‰åƒé—®APIå¯†é’¥

#### è‚¡ç¥¨é…ç½®
- `code`: è‚¡ç¥¨ä»£ç ï¼ˆå¦‚ï¼š600519ï¼‰
- `name`: è‚¡ç¥¨åç§°ï¼ˆå¦‚ï¼šè´µå·èŒ…å°ï¼‰
- `enabled`: æ˜¯å¦å¯ç”¨ç›‘æ§
- `scan_interval_minutes`: æ‰«æé—´éš”ï¼ˆåˆ†é’Ÿï¼‰ï¼Œå»ºè®®5-60
- `min_confidence`: æœ€å°ä¿¡å¿ƒåº¦é˜ˆå€¼ï¼ˆ0-100ï¼‰ï¼Œä½äºæ­¤å€¼ä¸å‘é€é€šçŸ¥

#### é€šçŸ¥é…ç½®
- `enabled`: æ˜¯å¦å¯ç”¨é€šçŸ¥
- `dingtalk.webhook_url`: é’‰é’‰æœºå™¨äººWebhookåœ°å€
- `dingtalk.secret`: é’‰é’‰æœºå™¨äººå…³é”®è¯ï¼ˆç”¨äºå®‰å…¨éªŒè¯ï¼‰
- `feishu.webhook_url`: é£ä¹¦æœºå™¨äººWebhookåœ°å€

#### æœåŠ¡é…ç½®
- `api_server_port`: APIæœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤9090ï¼‰
- `log_dir`: æ—¥å¿—ç›®å½•

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### æ·»åŠ ç›‘æ§è‚¡ç¥¨

ç¼–è¾‘ `config_stock.json`ï¼š

```json
{
  "stocks": [
    {
      "code": "600519",
      "name": "è´µå·èŒ…å°",
      "enabled": true,
      "scan_interval_minutes": 5,
      "min_confidence": 70
    },
    {
      "code": "000001",
      "name": "å¹³å®‰é“¶è¡Œ",
      "enabled": true,
      "scan_interval_minutes": 10,
      "min_confidence": 75
    }
  ]
}
```

é‡å¯æœåŠ¡ï¼š

```bash
# Docker
docker-compose restart stock-analyzer

# æœ¬åœ°
# Ctrl+C åœæ­¢ï¼Œç„¶åé‡æ–°è¿è¡Œ
./stock_analyzer
```

### è°ƒæ•´åˆ†æé¢‘ç‡

ä¿®æ”¹ `scan_interval_minutes`ï¼š

```json
{
  "code": "600519",
  "scan_interval_minutes": 15  // æ”¹ä¸º15åˆ†é’Ÿ
}
```

### è°ƒæ•´é€šçŸ¥é˜ˆå€¼

ä¿®æ”¹ `min_confidence`ï¼š

```json
{
  "code": "600519",
  "min_confidence": 80  // æé«˜åˆ°80%æ‰é€šçŸ¥
}
```

### ä¸´æ—¶ç¦ç”¨è‚¡ç¥¨

è®¾ç½® `enabled` ä¸º `false`ï¼š

```json
{
  "code": "600519",
  "enabled": false  // æš‚æ—¶ä¸ç›‘æ§
}
```

---

## ğŸ”Œ APIæ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:9090`
- **Content-Type**: `application/json`
- **å“åº”æ ¼å¼**: JSON

### APIç«¯ç‚¹

#### 1. è·å–æ‰€æœ‰è‚¡ç¥¨çŠ¶æ€

```http
GET /api/stocks
```

**å“åº”ç¤ºä¾‹**ï¼š

```json
{
  "code": 0,
  "message": "success",
  "data": {
    "total": 2,
    "stocks": [
      {
        "code": "600519",
        "name": "è´µå·èŒ…å°",
        "enabled": true
      },
      {
        "code": "000001",
        "name": "å¹³å®‰é“¶è¡Œ",
        "enabled": true
      }
    ]
  }
}
```

#### 2. è·å–å•ä¸ªè‚¡ç¥¨åˆ†æ

```http
GET /api/stock/:code
```

**å‚æ•°**ï¼š
- `code`: è‚¡ç¥¨ä»£ç 

**å“åº”ç¤ºä¾‹**ï¼š

```json
{
  "code": 0,
  "message": "success",
  "data": {
    "stock_code": "600519",
    "stock_name": "è´µå·èŒ…å°",
    "current_price": 1234.56,
    "signal": "BUY",
    "confidence": 85,
    "reasoning": "æŠ€æœ¯é¢åˆ†æï¼šå½“å‰ä»·æ ¼ä½äºMA5ä¹‹ä¸Š...",
    "target_price": 1300.00,
    "stop_loss": 1200.00,
    "risk_reward": "1:3",
    "timestamp": "2025-11-04T15:30:00Z",
    "technical_data": {
      "ma5": 1230.00,
      "ma10": 1220.00,
      "rsi14": "58.50",
      "volatility_20d": "2.50%"
    }
  }
}
```

#### 3. å¥åº·æ£€æŸ¥

```http
GET /health
```

**å“åº”ç¤ºä¾‹**ï¼š

```json
{
  "status": "ok",
  "timestamp": "2025-11-04T15:30:00Z"
}
```

---

## ğŸ“± é€šçŸ¥é…ç½®

### é’‰é’‰æœºå™¨äºº

#### 1. åˆ›å»ºæœºå™¨äºº

1. æ‰“å¼€é’‰é’‰ç¾¤
2. ç¾¤è®¾ç½® â†’ æ™ºèƒ½ç¾¤åŠ©æ‰‹ â†’ æ·»åŠ æœºå™¨äºº
3. é€‰æ‹©"è‡ªå®šä¹‰"æœºå™¨äºº
4. è®¾ç½®æœºå™¨äººåç§°å’Œå¤´åƒ
5. **å®‰å…¨è®¾ç½®**ï¼šé€‰æ‹©"è‡ªå®šä¹‰å…³é”®è¯"ï¼Œå¡«å†™å…³é”®è¯ï¼ˆå¦‚ï¼š`è‚¡ç¥¨é€šçŸ¥`ï¼‰
6. å¤åˆ¶Webhookåœ°å€

#### 2. é…ç½®ç³»ç»Ÿ

```json
{
  "notification": {
    "dingtalk": {
      "enabled": true,
      "webhook_url": "https://oapi.dingtalk.com/robot/send?access_token=YOUR_TOKEN",
      "secret": "è‚¡ç¥¨é€šçŸ¥"  // ä¸æœºå™¨äººå®‰å…¨è®¾ç½®çš„å…³é”®è¯ä¸€è‡´
    }
  }
}
```

#### 3. é€šçŸ¥æ•ˆæœ

```markdown
# âš ï¸ SELLä¿¡å· - è´µå·èŒ…å°(600519)

> **ã€è‚¡ç¥¨é€šçŸ¥ã€‘AIè‚¡ç¥¨åˆ†æç³»ç»Ÿ**

---

**å½“å‰ä»·æ ¼**: 1234.56å…ƒ
**ä¿¡å¿ƒåº¦**: 85%
**ç›®æ ‡ä»·æ ¼**: 1200.00å…ƒ
**æ­¢æŸä»·æ ¼**: 1250.00å…ƒ
**é£é™©å›æŠ¥æ¯”**: 1:2

---

**åˆ†æåŸå› **:
æŠ€æœ¯é¢åˆ†ææ˜¾ç¤º...

---

**æ—¶é—´**: 2025-11-04 15:30:00
```

### é£ä¹¦æœºå™¨äºº

#### 1. åˆ›å»ºæœºå™¨äºº

1. æ‰“å¼€é£ä¹¦ç¾¤
2. ç¾¤è®¾ç½® â†’ ç¾¤æœºå™¨äºº â†’ æ·»åŠ æœºå™¨äºº
3. é€‰æ‹©"è‡ªå®šä¹‰æœºå™¨äºº"
4. è®¾ç½®æœºå™¨äººåç§°
5. å¤åˆ¶Webhook URL

#### 2. é…ç½®ç³»ç»Ÿ

```json
{
  "notification": {
    "feishu": {
      "enabled": true,
      "webhook_url": "https://open.feishu.cn/open-apis/bot/v2/hook/YOUR_TOKEN",
      "secret": ""
    }
  }
}
```

---

## ğŸ¨ Webç•Œé¢

### åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š **å®æ—¶æ•°æ®**ï¼šæ˜¾ç¤ºæ‰€æœ‰ç›‘æ§è‚¡ç¥¨çš„æœ€æ–°åˆ†æ
- ğŸ¯ **ä¿¡å·å±•ç¤º**ï¼šæ¸…æ™°çš„BUY/SELL/HOLDæ ‡è¯†
- ğŸ’¯ **ä¿¡å¿ƒåº¦**ï¼šå¯è§†åŒ–çš„ä¿¡å¿ƒåº¦ç™¾åˆ†æ¯”
- ğŸ“ˆ **æŠ€æœ¯æŒ‡æ ‡**ï¼šMAã€RSIã€æ³¢åŠ¨ç‡ç­‰
- ğŸ“ **åˆ†æè¯¦æƒ…**ï¼šAIçš„å®Œæ•´æ¨ç†è¿‡ç¨‹
- â° **æ—¶é—´æˆ³**ï¼šæœ€åæ›´æ–°æ—¶é—´
- ğŸ”„ **è‡ªåŠ¨åˆ·æ–°**ï¼šå®šæœŸè‡ªåŠ¨æ›´æ–°æ•°æ®

### è®¿é—®åœ°å€

- **Dockeréƒ¨ç½²**: http://æœåŠ¡å™¨IP:8090
- **æœ¬åœ°è¿è¡Œ**: http://localhost:8090/stock_dashboard.html

---

## â“ å¸¸è§é—®é¢˜

### 1. Dockeræ„å»ºå¤±è´¥

**é—®é¢˜**: `go: module xxx requires go >= 1.24.0`

**è§£å†³**:
```bash
# ç¡®è®¤Dockeré•œåƒä½¿ç”¨æ­£ç¡®çš„Goç‰ˆæœ¬
grep "golang:" Dockerfile
# åº”è¯¥æ˜¾ç¤º: FROM golang:1.24-alpine
```

### 2. TDX APIè¿æ¥è¶…æ—¶

**é—®é¢˜**: `è·å–è¡Œæƒ…å¤±è´¥: è¶…æ—¶`

**è§£å†³**:
```bash
# æµ‹è¯•TDX APIæ˜¯å¦å¯è®¿é—®
curl http://your-tdx-api:8181

# å¦‚æœåœ¨Dockerä¸­ï¼Œç¡®ä¿ä½¿ç”¨hostç½‘ç»œæ¨¡å¼
# docker-compose.ymlä¸­åº”è¯¥æœ‰:
# network_mode: host
```

### 3. AI APIè°ƒç”¨å¤±è´¥

**é—®é¢˜**: `AIåˆ†æå¤±è´¥: API key invalid`

**è§£å†³**:
- æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®
- ç¡®è®¤AIæœåŠ¡æ˜¯å¦æ­£å¸¸
- æ£€æŸ¥ç½‘ç»œè¿æ¥

### 4. é’‰é’‰é€šçŸ¥å¤±è´¥

**é—®é¢˜**: `å…³é”®è¯ä¸åŒ¹é…`

**è§£å†³**:
- ç¡®ä¿é…ç½®æ–‡ä»¶ä¸­çš„`secret`å­—æ®µä¸é’‰é’‰æœºå™¨äººçš„å…³é”®è¯ä¸€è‡´
- æ£€æŸ¥Webhook URLæ˜¯å¦æ­£ç¡®

### 5. Webç•Œé¢æ— æ³•è®¿é—®

**é—®é¢˜**: `403 Forbidden`

**è§£å†³**:
```bash
# ä¿®æ”¹webç›®å½•æƒé™
sudo chmod -R 755 web/

# é‡å¯æœåŠ¡
docker-compose restart stock-web
```

### 6. ç«¯å£å†²çª

**é—®é¢˜**: `address already in use`

**è§£å†³**:
```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
sudo lsof -i :8090
sudo lsof -i :9090

# ä¿®æ”¹docker-compose.ymlä¸­çš„ç«¯å£æ˜ å°„
# æˆ–åœæ­¢å ç”¨ç«¯å£çš„ç¨‹åº
```

---

## ğŸ”§ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
nofx-stock/
â”œâ”€â”€ main_stock.go           # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config_stock.json       # é…ç½®æ–‡ä»¶
â”œâ”€â”€ go.mod                  # Goæ¨¡å—å®šä¹‰
â”œâ”€â”€ go.sum                  # ä¾èµ–æ ¡éªŒ
â”œâ”€â”€ Dockerfile              # Dockeré•œåƒ
â”œâ”€â”€ docker-compose.yml      # Dockerç¼–æ’
â”œâ”€â”€ nginx.conf              # Nginxé…ç½®
â”œâ”€â”€ docker-start.sh         # å¯åŠ¨è„šæœ¬(Linux)
â”œâ”€â”€ docker-start.bat        # å¯åŠ¨è„šæœ¬(Windows)
â”‚
â”œâ”€â”€ api/                    # APIæœåŠ¡
â”‚   â””â”€â”€ stock_server.go     # APIè·¯ç”±å’Œå¤„ç†
â”‚
â”œâ”€â”€ config/                 # é…ç½®ç®¡ç†
â”‚   â””â”€â”€ stock_config.go     # é…ç½®åŠ è½½
â”‚
â”œâ”€â”€ stock/                  # è‚¡ç¥¨åˆ†ææ ¸å¿ƒ
â”‚   â”œâ”€â”€ tdx_client.go       # TDX APIå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ analyzer.go         # åˆ†æå¼•æ“
â”‚   â””â”€â”€ ai_parser.go        # AIå“åº”è§£æ
â”‚
â”œâ”€â”€ notifier/               # é€šçŸ¥ç³»ç»Ÿ
â”‚   â””â”€â”€ webhook.go          # Webhooké€šçŸ¥
â”‚
â”œâ”€â”€ mcp/                    # AIé€šä¿¡
â”‚   â””â”€â”€ client.go           # AI APIå®¢æˆ·ç«¯
â”‚
â”œâ”€â”€ web/                    # Webå‰ç«¯
â”‚   â””â”€â”€ stock_dashboard.html
â”‚
â””â”€â”€ logs/                   # æ—¥å¿—ç›®å½•
    â””â”€â”€ *.log
```

### æ·»åŠ æ–°åŠŸèƒ½

1. **æ·»åŠ æ–°çš„æŠ€æœ¯æŒ‡æ ‡**

ç¼–è¾‘ `stock/analyzer.go`ï¼š

```go
// åœ¨getTechnicalDataæ–¹æ³•ä¸­æ·»åŠ 
if len(dayKline.List) >= 50 {
    // è®¡ç®—MACDæˆ–å…¶ä»–æŒ‡æ ‡
    macd := calculateMACD(dayKline.List)
    data["macd"] = macd
}
```

2. **æ·»åŠ æ–°çš„é€šçŸ¥æ¸ é“**

åœ¨ `notifier/webhook.go` ä¸­å®ç°æ–°çš„Notifieræ¥å£ï¼š

```go
type WeChatNotifier struct {
    WebhookURL string
}

func (w *WeChatNotifier) SendSignal(signal *TradingSignal) error {
    // å®ç°ä¼ä¸šå¾®ä¿¡é€šçŸ¥
}
```

3. **è‡ªå®šä¹‰AIæç¤ºè¯**

ç¼–è¾‘ `stock/analyzer.go` çš„ `buildPrompt` æ–¹æ³•ã€‚

---

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v2.0.0 (2025-11-04)

#### ğŸ‰ é‡å¤§æ›´æ–°
- âœ¨ å®Œå…¨é‡æ„ä¸ºè‚¡ç¥¨åˆ†æç³»ç»Ÿ
- ğŸš€ ç§»é™¤æ‰€æœ‰åŠ å¯†è´§å¸ç›¸å…³ä»£ç 
- ğŸ³ ä¼˜åŒ–Dockeréƒ¨ç½²æ–¹æ¡ˆ

#### âœ¨ æ–°åŠŸèƒ½
- â• é›†æˆTDXè‚¡ç¥¨æ•°æ®API
- â• æ”¯æŒDeepSeek/Qwen AIåˆ†æ
- â• é’‰é’‰/é£ä¹¦Webhooké€šçŸ¥
- â• Webç›‘æ§ç•Œé¢
- â• RESTful APIæ¥å£
- â• å¤šè‚¡ç¥¨å¹¶å‘ç›‘æ§
- â• æŠ€æœ¯æŒ‡æ ‡è®¡ç®—ï¼ˆMA/RSI/æ³¢åŠ¨ç‡ï¼‰

#### ğŸ”§ ä¼˜åŒ–
- âš¡ ä½¿ç”¨å›½å†…é•œåƒæºåŠ é€Ÿæ„å»º
- âš¡ Hostç½‘ç»œæ¨¡å¼æå‡æ€§èƒ½
- âš¡ ç²¾ç®€Dockeré•œåƒï¼ˆ20-30MBï¼‰
- âš¡ ä¼˜åŒ–AIæç¤ºè¯
- âš¡ æ”¹è¿›é”™è¯¯å¤„ç†

#### ğŸ› ä¿®å¤
- ğŸ”¨ ä¿®å¤Amountå­—æ®µç±»å‹é—®é¢˜ï¼ˆint64â†’float64ï¼‰
- ğŸ”¨ ä¿®å¤Dockerç½‘ç»œé…ç½®
- ğŸ”¨ ä¿®å¤Webæ–‡ä»¶æƒé™é—®é¢˜
- ğŸ”¨ ä¿®å¤é’‰é’‰å…³é”®è¯éªŒè¯

#### ğŸ“ æ–‡æ¡£
- ğŸ“š å…¨æ–°README
- ğŸ“š Dockeréƒ¨ç½²æŒ‡å—
- ğŸ“š å¿«é€Ÿå¼€å§‹æŒ‡å—
- ğŸ“š APIæ–‡æ¡£
- ğŸ“š å¸¸è§é—®é¢˜è§£ç­”

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ’¬ æ”¯æŒ

- **é—®é¢˜åé¦ˆ**: [GitHub Issues](https://github.com/your-repo/nofx-stock/issues)
- **åŠŸèƒ½å»ºè®®**: [GitHub Discussions](https://github.com/your-repo/nofx-stock/discussions)

---

## âš ï¸ å…è´£å£°æ˜

æœ¬ç³»ç»Ÿæä¾›çš„åˆ†æç»“æœä»…ä¾›å‚è€ƒï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚

- âŒ ä¸ä¿è¯åˆ†æå‡†ç¡®æ€§
- âŒ ä¸æ‰¿æ‹…æŠ•èµ„æŸå¤±è´£ä»»
- âŒ AIåˆ†æå­˜åœ¨å±€é™æ€§
- âœ… è¯·ç‹¬ç«‹æ€è€ƒï¼Œè°¨æ…å†³ç­–
- âœ… æŠ•èµ„æœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…

---

## ğŸŒŸ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Starï¼

---

**Made with â¤ï¸ by NOFX Team**
